<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.github.lionboard.repository.mybatis.PostRepository">

    <select id="findByPage" parameterType="java.util.Map" resultType="com.github.lionboard.model.Post">
        SELECT *, users.name username
        FROM POST_TB posts
        LEFT JOIN POST_FIGURE_TB figures ON posts.userId = figures.postid
        LEFT JOIN USERINFO_TB users ON posts.userId = users.id
        ORDER BY posts.postNum DESC
        LIMIT #{limit} OFFSET #{offset}
    </select>


</mapper>

